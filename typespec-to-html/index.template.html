<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>入力欄</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css"
        integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
</head>

<body>
    <form name="config" class="pure-form pure-form-stacked">
        <fieldset>
%%PLACEHOLDER%%
        </fieldset>
    </form>

    <a id="button_download" download="sample.json" class="pure-button pure-button-primary">入力内容からファイル生成</a>

    <script>
        window.onload = function () {
            const button = document.getElementById('button_download');
            button.onclick = () => {
                const form = document.forms['config'];
                const elements = Array.from(form['elements'])
                    .filter(x => x['id']);

                const data = {};
                elements.forEach(x => {
                    data[x['id']] = x['value'];
                });

                const blob = new Blob([JSON.stringify(data)], { type: 'application/json' });
                button.href = window.URL.createObjectURL(blob);
            };
        };
    </script>
</body>

</html>